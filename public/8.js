(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{17:function(t,e,n){var s=n(182);"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(7)(s,r);s.locals&&(t.exports=s.locals)},181:function(t,e,n){"use strict";var s=n(17);n.n(s).a},182:function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"\n.bank-description p {\n  font-size: 14px;\n  line-height: 1;\n}\n",""])},191:function(t,e,n){"use strict";var s=n(21);n.n(s).a},192:function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"\n.separator {\n  border-bottom: 1px solid #808080;\n  margin-bottom: 10px;\n}\n.scroll {\n  height: 500px;\n}\n.imgs {\n  max-width: 100%;\n  max-height: 400px;\n  width: auto;\n  height: auto;\n}\n",""])},21:function(t,e,n){var s=n(192);"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(7)(s,r);s.locals&&(t.exports=s.locals)},248:function(t,e,n){"use strict";n.r(e);var s=n(1),r=n.n(s),a=n(12),i=n(29),o=n(4);function c(t,e,n,s,r,a,i){try{var o=t[a](i),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(s,r)}var l={props:["tickets","price"],data:function(){return{id:"",order:{name:"",phone:""},modal:{title:"Concluir",loadingTitle:"",size:"lg",loading:!0,operating:!1,success:!1}}},methods:{saveOrder:function(){var t,e=this;return(t=r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.store({name:e.order.name,phone:e.order.phone,raffle_id:e.id,tickets:e.tickets}).then((function(t){e.$emit("update"),e.close()}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(s,r){var a=t.apply(e,n);function i(t){c(a,s,r,i,o,"next",t)}function o(t){c(a,s,r,i,o,"throw",t)}i(void 0)}))})()},show:function(t){this.id=t,this.$refs.modalOrder.show()},close:function(){this.order={name:"",phone:""},this.$refs.modalOrder.hide()}}},u=n(3),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:"modalOrder",staticClass:"p-2",attrs:{size:t.modal.size,"title-html":"<h5>"+t.modal.title+"</h5>","hide-footer":""}},[n("b-row",{staticClass:"d-flex justify-content-center"},t._l(t.tickets,(function(e,s){return n("div",{key:"idx-"+s},[n("b-badge",{staticClass:"p-2 m-1",attrs:{variant:"success"}},[t._v(t._s(("0000"+e).slice(-4)))])],1)})),0),t._v(" "),n("b-row",[n("b-col",{attrs:{lg:"12"}},[n("b",[t._v("Valor: R$ "+t._s(Number(t.price*t.tickets.length).toFixed(2)))])])],1),t._v(" "),n("form",{on:{submit:function(e){return e.preventDefault(),t.saveOrder(e)}}},[n("b-row",[n("b-col",{attrs:{lg:"12"}},[n("b-form-group",{attrs:{label:"Nome *"}},[n("b-input",{attrs:{type:"text",placeholder:"Nome e sobrenome"},model:{value:t.order.name,callback:function(e){t.$set(t.order,"name",e)},expression:"order.name"}})],1)],1),t._v(" "),n("b-col",{attrs:{lg:"12"}},[n("b-form-group",{attrs:{label:"Telefone *"}},[n("b-input",{attrs:{type:"text",placeholder:"(99) 99999-999"},model:{value:t.order.phone,callback:function(e){t.$set(t.order,"phone",e)},expression:"order.phone"}})],1)],1)],1),t._v(" "),n("b-row",{staticClass:"d-flex justify-content-end"},[n("b-col",{staticClass:"d-flex justify-content-end",attrs:{sm:"6"}},[n("b-button",{staticClass:"mt-4 mr-2",attrs:{type:"button",squared:""},on:{click:t.close}},[n("b",[t._v("CANCELAR")])]),t._v(" "),n("b-button",{staticClass:"mt-4",class:{"show-success":!t.modal.operating&&t.modal.success},attrs:{type:"submit",variant:"primary",squared:""}},[n("b",[t._v("SALVA")])])],1)],1)],1)],1)}),[],!1,null,null,null).exports,p=n(28);function v(t,e,n,s,r,a,i){try{var o=t[a](i),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(s,r)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(s,r){var a=t.apply(e,n);function i(t){v(a,s,r,i,o,"next",t)}function o(t){v(a,s,r,i,o,"throw",t)}i(void 0)}))}}var m={components:{"vue-glide":a.Glide,"vue-glide-slide":a.GlideSlide,"bank-card":i.a,instruction:p.a,"modal-order":d},data:function(){return{active:1,raffle:{title:"",tickets:"",price:"",description:"",draw_day:"",banner:"",winner:null,winning_ticket:null,images:[]},options:{gap:5,perView:1,type:"carousel",autoplay:3e3,breakpoints:{600:{perView:1}}},keytickets:0,ticketsButtons:[],tickets:[]}},methods:{fetchRaffle:function(){var t=this;return f(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.d.show(t.$route.params.id).then((function(e){t.raffle=e.data}));case 2:case"end":return e.stop()}}),e)})))()},generateButtons:function(){var t=this;return f(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ticketsButtons=[],e.next=3,o.e.ReserveTickets(t.$route.params.id).then((function(e){for(var n=function(n){var s=e.data.find((function(t){return t.ticket===n}));t.ticketsButtons.push({ticket:s?s.ticket:n,type:s?s.status:"avaliable",order:s?s.order:null})},s=0;s<=t.raffle.tickets;s++)n(s)}));case 3:case"end":return e.stop()}}),e)})))()},show:function(){this.$refs.ordermodal.show(this.$route.params.id)},reservationTicket:function(t){if(this.tickets.find((function(e){return e===t}))){var e=this.tickets.indexOf(t);this.tickets.splice(e,1),this.ticketsButtons[t].type="avaliable"}else this.tickets.push(t),this.tickets=this.sortTickets(this.tickets),this.ticketsButtons[t].type="reserved"},sortTickets:function(t){return this.tickets.sort((function(t,e){return t-e}))},forceRerender:function(){var t=this;return f(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.generateButtons();case 2:t.tickets=[],t.keytickets+=1;case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.fetchRaffle(),this.generateButtons()}},h=(n(191),Object(u.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container mt-4"},[n("modal-order",{ref:"ordermodal",attrs:{tickets:t.tickets,price:t.raffle.price},on:{update:t.forceRerender}}),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"6"}},[t.raffle.images.length?n("vue-glide",{attrs:{options:t.options},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.raffle.images,(function(t,e){return n("vue-glide-slide",{key:"idx-"+e},[n("b-img",{staticClass:"imgs",attrs:{src:t.url_image,alt:"imagens"}})],1)})),1):t._e()],1),t._v(" "),n("b-col",{attrs:{md:"6"}},[n("h4",{},[t._v(t._s(t.raffle.title))]),t._v(" "),n("div",{staticClass:"separator"}),t._v(" "),t.raffle.winning_ticket?n("div",{staticClass:"winner-t"},[n("span",{staticClass:"text-white btn text-uppercase btn rounded-pill btn-success"},[t._v("Centena prêmiada\n            "+t._s(("0000"+t.raffle.winning_ticket).slice(-4)))])]):t._e(),t._v(" "),t.raffle.winner?n("div",{staticClass:"winner mt-2"},[n("span",{staticClass:"text-white text-uppercase btn rounded-pill btn-danger"},[t._v("\n            "+t._s(t.raffle.winner))])]):t._e(),t._v(" "),n("div",{staticClass:"description  mt-2"},[n("p",{domProps:{innerHTML:t._s(t.raffle.description)}})]),t._v(" "),n("div",{staticClass:"mt-2"},[n("span",{},[n("font-awesome-icon",{attrs:{icon:["fa","calendar-alt"]}}),t._v("\n            Sorteio:\n          ")],1),t._v(" "),t.raffle.draw_day?n("span",{staticClass:"text-secondary"},[t._v(t._s(t._f("moment")(t.raffle.draw_day,"DD/MM/YYYY")))]):n("span",{staticClass:"text-secondary"},[t._v("Data não informada")])])])],1),t._v(" "),n("div",{staticClass:"separator mb-5"}),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"12"}},[n("vue-perfect-scrollbar",{ref:"scroll",staticClass:"scroll m-4",attrs:{settings:{suppressScrollX:!0,wheelPropagation:!1}}},[0===t.ticketsButtons.length?n("div",{staticClass:"d-flex justify-content-center align-items-center"},[n("b-spinner",{attrs:{type:"grow",label:"Spinning"}}),n("b-spinner",{attrs:{type:"grow",label:"Spinning"}}),t._v(" "),n("b-spinner",{attrs:{type:"grow",label:"Spinning"}})],1):t._e(),t._v(" "),n("div",{key:t.keytickets},t._l(t.ticketsButtons,(function(e,s){return n("div",{key:"id-"+s,staticClass:"float-left"},[n("span",{attrs:{id:"tooltip-"+s}},[n("b-button",{attrs:{pill:"",disabled:null!==e.order||null!==t.raffle.winner,variant:"reserved"===e.type?"warning":"paid out"===e.type?"success":"dark"},on:{click:function(n){return t.reservationTicket(e.ticket)}}},[t._v("\n                  "+t._s(("0000"+e.ticket).slice(-4))+"\n                ")])],1),t._v(" "),e.order?n("b-tooltip",{attrs:{target:"tooltip-"+s,triggers:"hover"}},[t._v("\n                Numero: "+t._s(("0000"+e.ticket).slice(-4))+"\n                "+t._s("reserved"===e.type?"reservado":"pago")+" por:\n                "+t._s(e.order.name)+"\n              ")]):t._e()],1)})),0)])],1),t._v(" "),n("b-col",{attrs:{md:"12"}},[t.tickets.length>0?n("b-button",{attrs:{block:"",variant:"info"},on:{click:t.show}},[t._v("Reserva")]):t._e()],1)],1),t._v(" "),n("h4",{staticClass:"text-uppercase mt-5"},[t._v("Forma de pagamento")]),t._v(" "),n("div",{staticClass:"separator mb-5 "}),t._v(" "),n("bank-card")],1),t._v(" "),n("instruction")],1)}),[],!1,null,null,null));e.default=h.exports},28:function(t,e,n){"use strict";var s={},r=n(3),a=Object(r.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-secondary pt-5 pb-3"},[n("div",{staticClass:"container"},[n("b-row",[n("b-col",{attrs:{md:"3"}},[n("h5",{staticClass:"text-white mb-2"},[t._v("1º  ESCOLHA O SORTEIO")]),t._v(" "),n("div",{staticClass:"text-white-50"},[n("p",[t._v("Escolha o prêmio que gostaria de concorrer, verifique a descrição, regulamento do sorteio e fotos em caso de dúvidas entre em contato com o administrado")])])]),t._v(" "),n("b-col",{attrs:{md:"3"}},[n("h5",{staticClass:"text-white mb-2"},[t._v("2º  SELECIONE SEUS NÚMEROS")]),t._v(" "),n("div",{staticClass:"text-white-50"},[n("p",[t._v("Você pode escolher quantos números desejar! Mais números, mais chances de ganhar")])])]),t._v(" "),n("b-col",{attrs:{md:"3"}},[n("h5",{staticClass:"text-white mb-2"},[t._v("3º  FAÇA O PAGAMENTO")]),t._v(" "),n("div",{staticClass:"text-white-50"},[n("p",[t._v("Faça o pagamento em umas das contas exibidas. Envie o comprovante ao administrador via whatsapp.")])])]),t._v(" "),n("b-col",{attrs:{md:"3"}},[n("h5",{staticClass:"text-white mb-2"},[t._v("4º  AGUARDE O SORTEIO")]),t._v(" "),n("div",{staticClass:"text-white-50"},[n("p",[t._v("Aguarde o sorteio pela Loteria Federal Cruze os dedos Você pode ser o próximo sorteado")])])])],1)],1)])}),[],!1,null,null,null);e.a=a.exports},29:function(t,e,n){"use strict";var s=n(1),r=n.n(s),a=n(4);function i(t,e,n,s,r,a,i){try{var o=t[a](i),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(s,r)}var o={data:function(){return{payment:[]}},methods:{fetchBanks:function(){var t,e=this;return(t=r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.c.list().then((function(t){e.payment=t.data}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(s,r){var a=t.apply(e,n);function o(t){i(a,s,r,o,c,"next",t)}function c(t){i(a,s,r,o,c,"throw",t)}o(void 0)}))})()}},mounted:function(){this.fetchBanks()}},c=(n(181),n(3)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",{staticClass:"mb-5"},t._l(t.payment,(function(e,s){return n("b-col",{key:"id -"+s,staticClass:"d-flex justify-content-center",attrs:{md:"3"}},[n("b-card",{attrs:{"img-src":e.url_image,"img-alt":e.bank,"img-top":"","img-height":"150px","img-width":"300"}},[n("div",{staticClass:"pl-2 d-flex flex-grow-1 min-width-zero"},[n("b-card-body",[n("b-row",[n("b-col",{attrs:{md:"12"}},[n("h6",{},[t._v(t._s(e.bank))]),t._v(" "),n("p",{staticClass:"txt-bank"},[t._v("Titular: "+t._s(e.holder))]),t._v(" "),n("p",{staticClass:"txt-bank"},[t._v("Agência: "+t._s(e.agency))]),t._v(" "),n("p",{staticClass:"txt-bank"},[t._v("Conta: "+t._s(e.account))]),t._v(" "),e.type?n("p",{staticClass:"txt-bank"},[t._v("Tipo: "+t._s(e.type))]):t._e()])],1)],1)],1)])],1)})),1)}),[],!1,null,null,null);e.a=l.exports}}]);